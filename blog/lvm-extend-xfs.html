<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Production VMware ortamÄ±nda LVM geniÅŸletme iÅŸlemi sonrasÄ± XFS dosya sisteminin bÃ¼yÃ¼meme sorununu nasÄ±l Ã§Ã¶zdÃ¼m. AdÄ±m adÄ±m Ã§Ã¶zÃ¼m ve dikkat edilmesi gereken noktalar.">
    <title>LVM Extend SonrasÄ± XFS BÃ¼yÃ¼medi: Ã‡Ã¶zÃ¼m AdÄ±mlarÄ± - Blog</title>
    
    <meta property="og:title" content="LVM Extend SonrasÄ± XFS BÃ¼yÃ¼medi: Ã‡Ã¶zÃ¼m AdÄ±mlarÄ±">
    <meta property="og:description" content="Production VMware ortamÄ±nda LVM geniÅŸletme iÅŸlemi sonrasÄ± XFS dosya sisteminin bÃ¼yÃ¼meme sorununu nasÄ±l Ã§Ã¶zdÃ¼m.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://yourdomain.com/blog/lvm-extend-xfs.html">
<<<<<<< HEAD
    <meta property="og:image" content="https://yourdomain.com/assets/og-image.png">
=======
    <meta property="og:image" content="https://yourdomain.com/assets/og/default.png">
>>>>>>> 9a5ab87 (chore: import local changes)
    <meta property="article:published_time" content="2025-04-15T10:00:00+03:00">
    <meta property="article:author" content="Your Name">
    <meta property="article:tag" content="Linux">
    <meta property="article:tag" content="Storage">
    <meta property="article:tag" content="GÃ¼venlik">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="LVM Extend SonrasÄ± XFS BÃ¼yÃ¼medi: Ã‡Ã¶zÃ¼m AdÄ±mlarÄ±">
    <meta name="twitter:description" content="Production VMware ortamÄ±nda LVM geniÅŸletme iÅŸlemi sonrasÄ± XFS dosya sisteminin bÃ¼yÃ¼meme sorununu nasÄ±l Ã§Ã¶zdÃ¼m.">
    <meta name="twitter:image" content="https://yourdomain.com/assets/og-image.png">
    
    <link rel="stylesheet" href="../assets/css/main.css">
<<<<<<< HEAD
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="nav-brand">
                <a href="../index.html">Blog</a>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">YazÄ±lar</a></li>
                <li><a href="../projects/index.html">Projeler</a></li>
                <li><a href="../about.html">HakkÄ±mda</a></li>
                <li><a href="../contact.html">Ä°letiÅŸim</a></li>
            </ul>
            <button class="theme-toggle" id="themeToggle" aria-label="Tema deÄŸiÅŸtir">
                <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M10 2V4M10 16V18M18 10H16M4 10H2M15.657 4.343L14.243 5.757M5.757 14.243L4.343 15.657M15.657 15.657L14.243 14.243M5.757 5.757L4.343 4.343" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </nav>
    </header>

    <main class="main blog-post">
=======
    <link rel="stylesheet" href="/assets/css/prism.css">
</head>
<body>
    <header class="site-header">
      <nav class="nav">
        <a class="logo" href="/">[Ad Soyad]</a>
        <ul class="nav-links">
          <li><a href="/blog/index.html">Blog</a></li>
          <li><a href="/projects/index.html">Projeler</a></li>
          <li><a href="/about.html">HakkÄ±mda</a></li>
          <li><a href="/contact.html">Ä°letiÅŸim</a></li>
        </ul>
        <button id="theme-toggle" class="theme-toggle" aria-label="Tema">ğŸŒ“</button>
      </nav>
    </header>

    <main class="container blog-post">
>>>>>>> 9a5ab87 (chore: import local changes)
        <article>
            <header class="post-header">
                <div class="post-meta-info">
                    <time datetime="2025-04-15">15 Nisan 2025</time>
                    <span class="separator">Â·</span>
                    <time datetime="2025-04-15">2025-04-15</time>
                    <span class="separator">Â·</span>
                    <span>5 dk okuma</span>
                    <span class="separator">Â·</span>
                    <span class="badge">Linux</span>
                    <span class="badge">Storage</span>
                    <span class="badge">GÃ¼venlik</span>
                </div>
                <h1 class="post-heading">LVM Extend SonrasÄ± XFS BÃ¼yÃ¼medi: Ã‡Ã¶zÃ¼m AdÄ±mlarÄ±</h1>
                <p class="post-lead">
                    Production VMware ortamÄ±nda LVM geniÅŸlettikten sonra XFS dosya sistemi neden bÃ¼yÃ¼medi ve bunu canlÄ± sistem durmadan nasÄ±l Ã§Ã¶zdÃ¼m.
                </p>
            </header>

            <section class="post-content">
                <h2>Problem Senaryosu</h2>
                <p>
                    Production ortamÄ±nda Ã§alÄ±ÅŸan bir VMware sanal makinesinde disk alanÄ± dolmak Ã¼zereydi. VMware tarafÄ±nda diski geniÅŸlettim ve LVM logical volume'Ã¼ bÃ¼yÃ¼ttÃ¼m. Ancak <code>df -h</code> komutu hala eski boyutu gÃ¶steriyordu.
                </p>

                <p>Ä°ÅŸte karÅŸÄ±laÅŸtÄ±ÄŸÄ±m durum:</p>

<<<<<<< HEAD
                <pre><code># Disk geniÅŸletme sonrasÄ±
=======
                <pre><code class="language-bash"># Disk geniÅŸletme sonrasÄ±
>>>>>>> 9a5ab87 (chore: import local changes)
lsblk
NAME                MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda                   8:0    0  200G  0 disk 
â”œâ”€sda1                8:1    0    1G  0 part /boot
â””â”€sda2                8:2    0  199G  0 part 
  â””â”€vgdata-lvdata   253:0    0  199G  0 lvm  /data

# Ancak dosya sistemi hala eski boyutta
df -h /data
Filesystem                Size  Used Avail Use% Mounted on
/dev/mapper/vgdata-lvdata  99G   95G  4.0G  96% /data</code></pre>

                <h2>YanlÄ±ÅŸ Denenen Ã‡Ã¶zÃ¼mler</h2>
                <p>
                    Ä°lk olarak klasik <code>resize2fs</code> komutunu denedim, ancak XFS dosya sistemi iÃ§in bu komut Ã§alÄ±ÅŸmÄ±yor. XFS iÃ§in doÄŸru komut <code>xfs_growfs</code>.
                </p>

<<<<<<< HEAD
                <pre><code># Bu hata verdi
=======
                <pre><code class="language-bash"># Bu hata verdi
>>>>>>> 9a5ab87 (chore: import local changes)
resize2fs /dev/mapper/vgdata-lvdata
resize2fs: Bad magic number in super-block while trying to open /dev/mapper/vgdata-lvdata</code></pre>

                <p>
                    Sonra <code>xfs_growfs</code> komutunu denedim ama yine hata aldÄ±m:
                </p>

<<<<<<< HEAD
                <pre><code># Bu da Ã§alÄ±ÅŸmadÄ±
=======
                <pre><code class="language-bash"># Bu da Ã§alÄ±ÅŸmadÄ±
>>>>>>> 9a5ab87 (chore: import local changes)
xfs_growfs /dev/mapper/vgdata-lvdata
xfs_growfs: /dev/mapper/vgdata-lvdata is not a mounted XFS filesystem</code></pre>

                <h2>Kesin Ã‡Ã¶zÃ¼m AdÄ±mlarÄ±</h2>
                <p>
                    Sorun ÅŸuydu: <code>xfs_growfs</code> komutu cihaz adÄ± deÄŸil, mount point bekliyor. Ä°ÅŸte doÄŸru adÄ±mlar:
                </p>

                <h3>1. Mevcut Durumu Kontrol Et</h3>
<<<<<<< HEAD
                <pre><code># LVM boyutunu kontrol et
=======
                <pre><code class="language-bash"># LVM boyutunu kontrol et
>>>>>>> 9a5ab87 (chore: import local changes)
lvdisplay /dev/vgdata/lvdata
  LV Size                199.00 GiB

# Dosya sistemi boyutunu kontrol et
df -h /data
Filesystem                Size  Used Avail Use% Mounted on
/dev/mapper/vgdata-lvdata  99G   95G  4.0G  96% /data

# Mount point'i kontrol et
mount | grep /data
/dev/mapper/vgdata-lvdata on /data type xfs (rw,relatime)</code></pre>

                <h3>2. XFS Dosya Sistemini BÃ¼yÃ¼t</h3>
<<<<<<< HEAD
                <pre><code># DoÄŸru komut: mount point kullan, cihaz adÄ± deÄŸil
=======
                <pre><code class="language-bash"># DoÄŸru komut: mount point kullan, cihaz adÄ± deÄŸil
>>>>>>> 9a5ab87 (chore: import local changes)
xfs_growfs /data

meta-data=/dev/mapper/vgdata-lvdata isize=512    agcount=4, agsize=6553600 blks
         =                       sectsz=512   attr=2, projid32bit=1
data     =                       bsize=4096   blocks=26214400, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0 ftype=1
log      =internal               bsize=4096   blocks=12800, version=2
realtime =none                   extsz=4096   blocks=0, rtextents=0
data blocks changed from 26214400 to 52428800</code></pre>

                <h3>3. Sonucu DoÄŸrula</h3>
                <pre><code># Dosya sistemi boyutunu tekrar kontrol et
df -h /data
Filesystem                Size  Used Avail Use% Mounted on
/dev/mapper/vgdata-lvdata 199G   95G  104G  48% /data

# BaÅŸarÄ±lÄ±! Dosya sistemi bÃ¼yÃ¼dÃ¼</code></pre>

                <h2>Dikkat Edilmesi Gereken Noktalar</h2>
                <ul>
                    <li><strong>XFS iÃ§in mount point kullan:</strong> <code>xfs_growfs</code> komutu cihaz adÄ± deÄŸil, mount point bekler.</li>
                    <li><strong>Sistem Ã§alÄ±ÅŸÄ±rken yapÄ±labilir:</strong> XFS dosya sistemini unmount etmeden bÃ¼yÃ¼tebilirsiniz.</li>
                    <li><strong>KÃ¼Ã§Ã¼ltme yapÄ±lamaz:</strong> XFS dosya sistemi sadece bÃ¼yÃ¼tÃ¼lebilir, kÃ¼Ã§Ã¼ltÃ¼lemez.</li>
                    <li><strong>Yedek alÄ±n:</strong> Production ortamÄ±nda her zaman Ã¶nce yedek alÄ±n.</li>
                    <li><strong>LVM snapshot:</strong> Kritik sistemlerde iÅŸlem Ã¶ncesi LVM snapshot oluÅŸturun.</li>
                </ul>

                <h2>Alternatif: LVM Extend ile Birlikte</h2>
                <p>
                    EÄŸer LVM extend iÅŸlemini henÃ¼z yapmadÄ±ysanÄ±z, <code>-r</code> parametresi ile dosya sistemini otomatik bÃ¼yÃ¼tebilirsiniz:
                </p>

<<<<<<< HEAD
                <pre><code># LVM extend ve dosya sistemi bÃ¼yÃ¼tme tek komutta
=======
                <pre><code class="language-bash"># LVM extend ve dosya sistemi bÃ¼yÃ¼tme tek komutta
>>>>>>> 9a5ab87 (chore: import local changes)
lvextend -r -L +100G /dev/vgdata/lvdata

# veya tÃ¼m boÅŸ alanÄ± kullan
lvextend -r -l +100%FREE /dev/vgdata/lvdata</code></pre>

                <h2>SonuÃ§</h2>
                <p>
                    XFS dosya sistemi ile Ã§alÄ±ÅŸÄ±rken <code>resize2fs</code> yerine <code>xfs_growfs</code> kullanmak ve mount point belirtmek kritik. Bu basit detay, production ortamÄ±nda saatler sÃ¼rebilecek bir sorunu dakikalar iÃ§inde Ã§Ã¶zmenizi saÄŸlar.
                </p>

                <p>
                    Benzer bir durumla karÅŸÄ±laÅŸÄ±rsanÄ±z, Ã¶nce dosya sistemi tipini kontrol edin (<code>mount | grep /data</code>) ve doÄŸru aracÄ± kullanÄ±n.
                </p>
            </section>

            <footer class="post-footer-nav">
                <a href="index.html" class="back-link">â† TÃ¼m yazÄ±lara dÃ¶n</a>
            </footer>
        </article>
    </main>

<<<<<<< HEAD
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-left">
                <p class="footer-text">Â© 2025 [Ä°sim]</p>
                <p class="footer-license">Aksi belirtilmedikÃ§e tÃ¼m iÃ§erik kiÅŸisel teknik nottur. Ticari kullanÄ±m izne tabidir.</p>
            </div>
            <div class="footer-center">
                <p class="footer-source">Kaynak kod: <a href="https://github.com/yourusername/blog" target="_blank" rel="noopener noreferrer">GitHub</a></p>
            </div>
            <div class="footer-right">
                <div class="footer-links">
                    <a href="https://github.com/yourusername" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                    </a>
                    <a href="https://linkedin.com/in/yourusername" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script src="../assets/js/theme.js"></script>
=======
    <footer class="site-footer">
    <div class="footer-left">Â© 2025 [Ad Soyad]</div>
    <div class="footer-mid">Kod GitHub'da aÃ§Ä±k</div>
    <div class="footer-right">
    <a href="https://github.com/kullaniciadÄ±n" target="_blank" rel="noopener">GitHub</a> Â·
    <a href="https://www.linkedin.com/in/profilin" target="_blank" rel="noopener">LinkedIn</a>
    </div>
    </footer>

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/prism.js"></script>
>>>>>>> 9a5ab87 (chore: import local changes)
</body>
</html>
