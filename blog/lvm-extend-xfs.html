<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LVM Extend SonrasÄ± XFS Neden BÃ¼yÃ¼medi?</title>
  <meta name="description" content="CanlÄ± sistemde LVM bÃ¼yÃ¼ttÃ¼kten sonra XFS neden geniÅŸlemedi ve nasÄ±l dÃ¼zeltildi.">

  <meta property="og:title" content="LVM Extend SonrasÄ± XFS Neden BÃ¼yÃ¼medi? CanlÄ± Sistem Ãœzerinde Ã‡Ã¶zÃ¼m">
  <meta property="og:description" content="Production ortamda LVM ile disk alanÄ±nÄ± geniÅŸlettikten sonra mount edilmiÅŸ XFS bÃ¼yÃ¼medi. Bu yazÄ± sorunu, yanlÄ±ÅŸ denenen yollarÄ± ve kesintisiz Ã§Ã¶zÃ¼mÃ¼ anlatÄ±yor.">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://emirhanbalci.com/blog/lvm-extend-xfs.html">
  <meta property="og:image" content="https://emirhanbalci.com/assets/og/default.png">
  <meta property="article:published_time" content="2025-04-15">
  <meta name="twitter:card" content="summary_large_image">

  <link rel="stylesheet" href="../assets/css/main.css" />
</head>
<body>
  <header class="site-header">
    <nav class="nav">
      <a class="logo" href="/">Emirhan Talha BALCI</a>
      <ul class="nav-links">
        <li><a href="/blog/index.html">Blog</a></li>
        <li><a href="/projects/index.html">Projeler</a></li>
        <li><a href="/about.html">HakkÄ±mda</a></li>
        <li><a href="/contact.html">Ä°letiÅŸim</a></li>
      </ul>
      <button id="theme-toggle" class="theme-toggle" aria-label="Tema">ğŸŒ“</button>
    </nav>
  </header>

  <main class="container">
    <article class="card">
      <header>
        <h1 class="section-title" style="font-size:1.4rem;">
          LVM Extend SonrasÄ± XFS Neden BÃ¼yÃ¼medi? CanlÄ± Sistem Ãœzerinde Ã‡Ã¶zÃ¼m
        </h1>

        <div class="meta-line">
          15 Nisan 2025 Â· 2025-04-15 Â· 7 dk okuma Â·
          <span class="badge">Linux</span>
          <span class="badge">Storage</span>
        </div>

        <p class="post-desc">
          Production ortamda LVM ile disk alanÄ±nÄ± geniÅŸlettikten sonra mount edilmiÅŸ XFS bÃ¼yÃ¼medi.
          Bu yazÄ± sorunu, yanlÄ±ÅŸ denenen yollarÄ± ve kesintisiz Ã§Ã¶zÃ¼mÃ¼ anlatÄ±yor.
        </p>
      </header>

      <section style="margin-top:2rem;">
        <h2 class="section-title">1. Problem Senaryosu</h2>
        <p>
          VMware ortamÄ±nda Ã§alÄ±ÅŸan bir production sistemde <code>/data</code> partition'Ä± dolmaya baÅŸlamÄ±ÅŸtÄ±.
          Servis kesintisi kabul edilemediÄŸi iÃ§in unmount yapamÄ±yorduk. LVM logical volume'Ã¼ geniÅŸlettim
          ancak <code>df -h</code> Ã§Ä±ktÄ±sÄ± deÄŸiÅŸmedi.
        </p>

        <pre style="background-color:var(--card-bg);border:1px solid var(--border);border-radius:6px;padding:1rem;overflow-x:auto;"><code>lvextend -L +100G /dev/vgdata/lvdata
xfs_growfs /data</code></pre>

        <p>
          Ä°lk komut baÅŸarÄ±lÄ± oldu ama XFS boyutu sabit kaldÄ±. Hata mesajÄ± yoktu ama geniÅŸleme olmamÄ±ÅŸtÄ±.
        </p>

        <h2 class="section-title">2. YanlÄ±ÅŸ YaklaÅŸÄ±m</h2>
        <p>
          Ä°lk dÃ¼ÅŸÃ¼ncem unmount edip tekrar mount etmekti. Ancak bu servisi durduracaktÄ±.
          Sonra <code>xfs_repair</code> denedim ama bu da unmount gerektiriyordu. AyrÄ±ca <code>xfs_repair</code>
          mount edilmiÅŸ sistemde Ã§alÄ±ÅŸmaz ve veri kaybÄ±na neden olabilir.
        </p>

        <h2 class="section-title">3. Ã‡alÄ±ÅŸan Ã‡Ã¶zÃ¼m</h2>
        <p>
          AsÄ±l sorun logical volume'Ã¼n boyutu deÄŸiÅŸtirildiÄŸi halde filesystem'in bunu bilmemesiydi.
          <code>xfs_growfs</code> komutu mount point ile Ã§alÄ±ÅŸÄ±r.
        </p>

        <p>DoÄŸru komut:</p>

        <pre style="background-color:var(--card-bg);border:1px solid var(--border);border-radius:6px;padding:1rem;overflow-x:auto;"><code>xfs_growfs /data</code></pre>

        <p>
          Bu komut anlÄ±k olarak XFS'i geniÅŸletti. <code>df -h</code> Ã§Ä±ktÄ±sÄ± hemen gÃ¼ncellendi.
          Servis kesintisi olmadÄ±.
        </p>

        <h2 class="section-title">4. Risk NotlarÄ±</h2>
        <ul style="margin-left:1rem;font-size:.9rem;line-height:1.6;">
          <li>CanlÄ±da filesystem bÃ¼yÃ¼tmek veri kaybÄ± riski taÅŸÄ±r. Snapshot almadan yapÄ±lmamalÄ±.</li>
          <li><code>xfs_growfs</code> sadece bÃ¼yÃ¼tme yapar, kÃ¼Ã§Ã¼ltme desteklenmez.</li>
          <li>VMware tarafÄ±nda disk geniÅŸletme yapÄ±ldÄ±ysa guest OS'de <code>pvresize</code> Ã§alÄ±ÅŸtÄ±rÄ±lmalÄ±.</li>
          <li>Production ortamda her zaman test senaryolarÄ± hazÄ±r olmalÄ±.</li>
        </ul>

        <h2 class="section-title">5. Ã–zet</h2>
        <p>
          LVM extend sonrasÄ± XFS bÃ¼yÃ¼mezse, <code>xfs_growfs</code> komutunu mount point ile Ã§alÄ±ÅŸtÄ±rÄ±n.
          CanlÄ± sistemde geniÅŸleme yapÄ±labilir ancak risk analizi ÅŸart.
        </p>
      </section>

      <footer style="margin-top:2rem;display:flex;justify-content:space-between;font-size:.8rem;flex-wrap:wrap;gap:1rem;">
        <a href="index.html" style="color:var(--accent);text-decoration:none;">â† TÃ¼m yazÄ±lar</a>
        <span style="color:var(--muted);">Sonraki yazÄ± yakÄ±nda</span>
      </footer>
    </article>
  </main>

  <footer class="site-footer">
    <div class="footer-left">Â© 2025 Emirhan Talha BALCI</div>
    <div class="footer-mid">Kod GitHub'da aÃ§Ä±k</div>
    <div class="footer-right">
      <a href="https://github.com/Emirhanbalc" target="_blank" rel="noopener">GitHub</a> Â·
      <a href="https://www.linkedin.com/in/emirhanbalc" target="_blank" rel="noopener">LinkedIn</a>
    </div>
  </footer>

  <script src="../assets/js/theme.js"></script>
</body>
</html>
